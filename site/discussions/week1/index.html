



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Kaiser Pister">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Week 1 - Programming Languages: Principles and Paradigms</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#javascript-fundamentals-revisited-by-purag-moumdjian" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Programming Languages: Principles and Paradigms" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Programming Languages: Principles and Paradigms
              </span>
              <span class="md-header-nav__topic">
                Week 1
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Programming Languages: Principles and Paradigms" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Programming Languages: Principles and Paradigms
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../syllabus/" title="Syllabus" class="md-nav__link">
      Syllabus
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="Organization" class="md-nav__link">
      Organization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contact/" title="Contact information" class="md-nav__link">
      Contact information
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Assignments
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../assignments/" title="Main" class="md-nav__link">
      Main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../assn/Tokenizer/" title="Tokenizer.md" class="md-nav__link">
      Tokenizer.md
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../lectures/week1/" title="Week 1" class="md-nav__link">
      Week 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../lectures/week1b/" title="Week 1b" class="md-nav__link">
      Week 1b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../lectures/week2a/" title="Week 2a" class="md-nav__link">
      Week 2a
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../lectures/week2b/" title="Week 2b" class="md-nav__link">
      Week 2b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../lectures/week3b/" title="Week 3b" class="md-nav__link">
      Week 3b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../lectures/week4a/" title="Week 4a" class="md-nav__link">
      Week 4a
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Discussions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Discussions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Week 1
      </label>
    
    <a href="./" title="Week 1" class="md-nav__link md-nav__link--active">
      Week 1
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#javascript-fundamentals-revisited-by-purag-moumdjian" title="JavaScript fundamentals revisited by Purag Moumdjian" class="md-nav__link">
    JavaScript fundamentals revisited by Purag Moumdjian
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-global-object" title="The global object" class="md-nav__link">
    The global object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receiversthe-this-keyword" title="Receivers/the this keyword" class="md-nav__link">
    Receivers/the this keyword
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classesfunction-constructors" title="Classes/Function constructors" class="md-nav__link">
    Classes/Function constructors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hoisting" title="Hoisting" class="md-nav__link">
    Hoisting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functionscallbacksarrow-notation" title="Functions/Callbacks/Arrow Notation" class="md-nav__link">
    Functions/Callbacks/Arrow Notation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-manipulation-a-la-functional-programming-in-javascript" title="List Manipulation a la Functional Programming in JavaScript" class="md-nav__link">
    List Manipulation a la Functional Programming in JavaScript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#closure" title="Closure" class="md-nav__link">
    Closure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week2/" title="Week 2" class="md-nav__link">
      Week 2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Additional notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Additional notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/js_nono/" title="JavaScript No No's" class="md-nav__link">
      JavaScript No No's
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#javascript-fundamentals-revisited-by-purag-moumdjian" title="JavaScript fundamentals revisited by Purag Moumdjian" class="md-nav__link">
    JavaScript fundamentals revisited by Purag Moumdjian
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-global-object" title="The global object" class="md-nav__link">
    The global object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receiversthe-this-keyword" title="Receivers/the this keyword" class="md-nav__link">
    Receivers/the this keyword
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classesfunction-constructors" title="Classes/Function constructors" class="md-nav__link">
    Classes/Function constructors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hoisting" title="Hoisting" class="md-nav__link">
    Hoisting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functionscallbacksarrow-notation" title="Functions/Callbacks/Arrow Notation" class="md-nav__link">
    Functions/Callbacks/Arrow Notation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-manipulation-a-la-functional-programming-in-javascript" title="List Manipulation a la Functional Programming in JavaScript" class="md-nav__link">
    List Manipulation a la Functional Programming in JavaScript
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#closure" title="Closure" class="md-nav__link">
    Closure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Week 1</h1>
                
                <h3 id="javascript-fundamentals-revisited-by-purag-moumdjian">JavaScript fundamentals revisited by Purag Moumdjian<a class="headerlink" href="#javascript-fundamentals-revisited-by-purag-moumdjian" title="Permanent link">&para;</a></h3>
<p>Below are the notes from the discussion section.</p>
<h4 id="the-global-object">The <code>global</code> object<a class="headerlink" href="#the-global-object" title="Permanent link">&para;</a></h4>
<p>In Node.js, the <code>global</code> object contains functions (and lots of other
information) exposed by the runtime environment.</p>
<p>By default, <code>this</code> in the top-level scope of a node module refers to the module
itself. When not in strict mode, <code>this</code> inside a function is automatically
assigned the <code>global</code> object.</p>
<div class="codehilite"><pre><span></span><span class="c1">// global object</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span> <span class="o">===</span> <span class="nx">global</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span> <span class="o">===</span> <span class="nx">global</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">f</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span> <span class="o">===</span> <span class="nx">global</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">f</span><span class="p">();</span> <span class="c1">// ??</span>

<span class="k">new</span> <span class="nx">f</span><span class="p">();</span> <span class="c1">// ??</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span> <span class="o">===</span> <span class="nx">global</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="p">})();</span>
</pre></div>


<h4 id="receiversthe-this-keyword">Receivers/the <code>this</code> keyword<a class="headerlink" href="#receiversthe-this-keyword" title="Permanent link">&para;</a></h4>
<p>We can dynamically change the value of <code>this</code> when executing a function which
uses it. All functions in JavaScript have three methods which let us do this:
<code>call</code>, <code>apply</code>, and <code>bind</code>.</p>
<p><code>call</code> and <code>apply</code> immediately invoke the function with the specified receiver
(target object) and arguments. <code>bind</code> creates a new function with the receiver
(and any provided arguments) <em>bound</em> to the specified values. This lets us
create clones of functions where the <code>this</code> keyword always refers to a specific
object (see <code>swapObj2</code> below).</p>
<p><code>bind</code> also lets us accomplish <em>partial application</em> of functions, meaning we
can create copies of functions with some (or all) of the arguments already
fixed. We'll revisit this in detail throughout the quarter.</p>
<div class="codehilite"><pre><span></span><span class="c1">// objects + this</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nx">swap</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">temp</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">temp</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">swap</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="kd">let</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">x</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nx">y</span><span class="o">:</span> <span class="mi">4</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj2</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">swap</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj2</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj2</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">swapObj2</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">swap</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">obj2</span><span class="p">);</span>

<span class="nx">swapObj2</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj2</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">swapObj2</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj2</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// Also works with regular functions (not belonging to an object)...</span>
<span class="kd">function</span> <span class="nx">f</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">f</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj2</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj2</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// And also works with arguments...</span>
<span class="kd">function</span> <span class="nx">g</span> <span class="p">(</span><span class="nx">arg1</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">arg1</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">g</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj2</span><span class="p">,</span> <span class="s2">&quot;argument 1&quot;</span><span class="p">);</span> <span class="c1">// ?</span>
</pre></div>


<h4 id="classesfunction-constructors">Classes/Function constructors<a class="headerlink" href="#classesfunction-constructors" title="Permanent link">&para;</a></h4>
<p>Before classes were native to JavaScript, we would use plain old functions to
construct objects. These are called <em>function constructors</em>. When we invoke any
function with the <code>new</code> keyword (i.e. <code>new Car()</code>), <code>this</code> is automatically
bound to a newly created object (whose prototype <code>__proto__</code> is <code>Car.prototype</code>),
allowing us to specify instance data attached to <code>this</code> inside a function
constructor.</p>
<p>Since functions create a new scope in JavaScript, and since JavaScript
functions are closures, we can create "hidden"/private fields and methods just
by declaring local variables and functions. These are only visible in the scope
of the function, and because functions are closures and capture the
environment, these "fields" and "methods" can be accessed even after the object
is created.</p>
<p>One caveat is that each instance of the object will have its own copy of every
private method, and if you want a public method that uses a private method, each
object needs a copy of that, too -- the public method will have to share the
scope of the private method.</p>
<p>This is not the way you want to manage private field, it's just an
illustration. See <a href="https://curiosity-driven.org/private-properties-in-javascript">this blog
post</a> for a
discussion.</p>
<div class="codehilite"><pre><span></span><span class="c1">// classes + function constructors</span>

<span class="kd">let</span> <span class="nx">Car</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">make</span><span class="p">,</span> <span class="nx">model</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">make</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">model</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">car1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;toyota&quot;</span><span class="p">,</span> <span class="s2">&quot;camry&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">car1</span><span class="p">.</span><span class="nx">make</span><span class="p">,</span> <span class="nx">car1</span><span class="p">.</span><span class="nx">model</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// We can even make private fields!</span>
<span class="nx">Car</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">make</span><span class="p">,</span> <span class="nx">model</span><span class="p">,</span> <span class="nx">year</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">private_year</span> <span class="o">=</span> <span class="nx">year</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">make</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">model</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">car2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;honda&quot;</span><span class="p">,</span> <span class="s2">&quot;civic&quot;</span><span class="p">,</span> <span class="mi">2018</span><span class="p">)</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">car2</span><span class="p">.</span><span class="nx">make</span><span class="p">,</span> <span class="nx">car2</span><span class="p">.</span><span class="nx">model</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">car2</span><span class="p">.</span><span class="nx">private_year</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">car2</span><span class="p">.</span><span class="nx">year</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// Private methods?</span>
<span class="nx">Car</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">make</span><span class="p">,</span> <span class="nx">model</span><span class="p">,</span> <span class="nx">year</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">private_year</span> <span class="o">=</span> <span class="nx">year</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">make</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">model</span><span class="p">;</span>

  <span class="kd">function</span> <span class="nx">private_getInternalLabel</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="nx">make</span><span class="si">}</span><span class="sb">@</span><span class="si">${</span><span class="nx">model</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="nx">private_getInternalLabel</span><span class="p">()</span><span class="si">}</span><span class="sb">@</span><span class="si">${</span><span class="nx">private_year</span><span class="si">}</span><span class="sb">`</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">car3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;ford&quot;</span><span class="p">,</span> <span class="s2">&quot;edge&quot;</span><span class="p">,</span> <span class="mi">2018</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">car3</span><span class="p">.</span><span class="nx">private_getInternalLabel</span><span class="p">());</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">car3</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span> <span class="c1">// ??</span>
</pre></div>


<h4 id="hoisting">Hoisting<a class="headerlink" href="#hoisting" title="Permanent link">&para;</a></h4>
<p>JavaScript <em>hoists</em> <code>var</code> declaration and <code>function</code> declarations and
definitions to the top of the current scope. This behavior may or not be
desired, but if you want to avoid it, just use <code>let</code> and <code>const</code> to declare
variables, as they are not hoisted -- in other words, they create a new scope
only once they executed, and these scopes end as soon as the surrounding block
ends.</p>
<div class="codehilite"><pre><span></span><span class="c1">// hoisting</span>

<span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">undeclared</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">let_declared_later</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="kd">let</span> <span class="nx">let_declared_later</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">var_declared_later</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="kd">var</span> <span class="nx">var_declared_later</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">defined_later</span><span class="p">());</span> <span class="c1">// ??</span>
  <span class="kd">function</span> <span class="nx">defined_later</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;yay!&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">let_defined_later</span><span class="p">());</span> <span class="c1">// ??</span>
  <span class="kd">let</span> <span class="nx">let_defined_later</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;yay!&quot;</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
</pre></div>


<h4 id="functionscallbacksarrow-notation">Functions/Callbacks/Arrow Notation<a class="headerlink" href="#functionscallbacksarrow-notation" title="Permanent link">&para;</a></h4>
<p>Below, we have a function constructor for <code>Car</code>, and in the constructor we
create methods <code>getMake</code> and <code>getModel</code> which access the arguments of the
function. We return the new object to the caller and the function's scope ends,
but subsequent calls to <code>getMake</code> and <code>getModel</code> will still have access to the
arguments from the function's scope due to closure.</p>
<p>For another example, see <a href="#closure">Closure</a></p>
<div class="codehilite"><pre><span></span><span class="c1">// functions + closures</span>

<span class="kd">function</span> <span class="nx">f</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">f</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span> <span class="k">instanceof</span> <span class="nb">Object</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span> <span class="c1">// ??</span>

<span class="c1">// Back to function constructors</span>
<span class="kd">let</span> <span class="nx">Car</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">make</span><span class="p">,</span> <span class="nx">model</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">getMake</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">make</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">getModel</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">model</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">car1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;toyota&quot;</span><span class="p">,</span> <span class="s2">&quot;camry&quot;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">car1</span><span class="p">.</span><span class="nx">getMake</span><span class="p">(),</span> <span class="nx">car1</span><span class="p">.</span><span class="nx">getModel</span><span class="p">());</span> <span class="c1">// ??</span>

<span class="c1">// Arrow notation: more concise, especially with callbacks</span>
<span class="kr">const</span> <span class="nx">g</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">g</span><span class="p">());</span> <span class="c1">// ??</span>

<span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;done&quot;</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">10</span><span class="p">);</span>

<span class="c1">// More examples of this in 06.functional.js...</span>
</pre></div>


<h4 id="list-manipulation-a-la-functional-programming-in-javascript">List Manipulation a la Functional Programming in JavaScript<a class="headerlink" href="#list-manipulation-a-la-functional-programming-in-javascript" title="Permanent link">&para;</a></h4>
<p><code>map</code>, <code>reduce</code> (or <code>fold</code>), and <code>filter</code> are three examples of list
manipulation functions. Recursion is the bread and butter of functional
programming, and these functions are prime examples. JavaScript arrays natively
support some of these behaviors, as seen below.</p>
<div class="codehilite"><pre><span></span><span class="c1">// functional stuff!</span>

<span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>

<span class="kd">let</span> <span class="nx">newArray</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newArray</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">newArray</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">accum</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">accum</span> <span class="o">+</span> <span class="nx">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newArray</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">newArray</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newArray</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="nx">newArray</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">newArray</span><span class="p">);</span> <span class="c1">// ??</span>
</pre></div>


<h4 id="closure">Closure<a class="headerlink" href="#closure" title="Permanent link">&para;</a></h4>
<p>Below are some classical examples of closures.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Closure example</span>

<span class="c1">// #1</span>
<span class="p">{</span>
  <span class="kd">var</span> <span class="nx">funcs</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">funcs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
  <span class="nx">funcs</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">func</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// #2</span>
<span class="p">{</span>
  <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

  <span class="kr">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>

  <span class="nx">f</span><span class="p">();</span> <span class="c1">// ??</span>

  <span class="nx">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

  <span class="nx">f</span><span class="p">();</span> <span class="c1">// ??</span>
<span class="p">}</span>

<span class="c1">// #3</span>
<span class="c1">// How do we fix the problem in #1?</span>
<span class="p">{</span>
  <span class="kd">let</span> <span class="nx">funcs</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">funcs</span><span class="p">.</span><span class="nx">push</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="nx">funcs</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">func</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">func</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// #4</span>
<span class="c1">// How can we fix it without using let? (Also, how did we fix this before let?)</span>
<span class="p">{</span>
  <span class="kd">var</span> <span class="nx">funcs</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">funcs</span><span class="p">.</span><span class="nx">push</span><span class="p">((</span><span class="kd">function</span> <span class="p">(</span><span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">})(</span><span class="nx">i</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="nx">funcs</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">func</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="c1">// or...</span>
  <span class="nx">funcs</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">funcs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span>
    <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">i</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="nx">funcs</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">func</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../lectures/week4a/" title="Week 4a" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Week 4a
              </span>
            </div>
          </a>
        
        
          <a href="../week2/" title="Week 2" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Week 2
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/kpister/cse130-summer19" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>