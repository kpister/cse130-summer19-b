



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="Kaiser Pister">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Week 1 - Programming Languages: Principles and Paradigms</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lecture-slides-and-code" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Programming Languages: Principles and Paradigms" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Programming Languages: Principles and Paradigms
              </span>
              <span class="md-header-nav__topic">
                Week 1
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Programming Languages: Principles and Paradigms" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Programming Languages: Principles and Paradigms
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../syllabus/" title="Syllabus" class="md-nav__link">
      Syllabus
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="Organization" class="md-nav__link">
      Organization
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contact/" title="Contact information" class="md-nav__link">
      Contact information
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Assignments
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Assignments
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../assignments/" title="Main" class="md-nav__link">
      Main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../assn/Tokenizer/" title="Tokenizer.md" class="md-nav__link">
      Tokenizer.md
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Lectures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Lectures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Week 1
      </label>
    
    <a href="./" title="Week 1" class="md-nav__link md-nav__link--active">
      Week 1
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lecture-slides-and-code" title="Lecture slides and code" class="md-nav__link">
    Lecture slides and code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recommended-reading" title="Recommended reading" class="md-nav__link">
    Recommended reading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resourcesreading-for-the-curious" title="Additional resources/reading for the curious" class="md-nav__link">
    Additional resources/reading for the curious
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-code-used-in-class" title="Source code used in class" class="md-nav__link">
    Source code used in class
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scoping" title="Scoping" class="md-nav__link">
    Scoping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" title="Performance" class="md-nav__link">
    Performance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressiveness" title="Expressiveness" class="md-nav__link">
    Expressiveness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abstraction" title="Abstraction" class="md-nav__link">
    Abstraction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects" title="Objects" class="md-nav__link">
    Objects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week1b/" title="Week 1b" class="md-nav__link">
      Week 1b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week2a/" title="Week 2a" class="md-nav__link">
      Week 2a
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week2b/" title="Week 2b" class="md-nav__link">
      Week 2b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week3b/" title="Week 3b" class="md-nav__link">
      Week 3b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week4a/" title="Week 4a" class="md-nav__link">
      Week 4a
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week4b/" title="Week 4b" class="md-nav__link">
      Week 4b
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../week5a/" title="Week 5a" class="md-nav__link">
      Week 5a
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Discussions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Discussions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../discussions/week1/" title="Week 1" class="md-nav__link">
      Week 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../discussions/week2/" title="Week 2" class="md-nav__link">
      Week 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../discussions/week4/" title="Week 4" class="md-nav__link">
      Week 4
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Additional notes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Additional notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../notes/js_nono/" title="JavaScript No No's" class="md-nav__link">
      JavaScript No No's
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lecture-slides-and-code" title="Lecture slides and code" class="md-nav__link">
    Lecture slides and code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recommended-reading" title="Recommended reading" class="md-nav__link">
    Recommended reading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resourcesreading-for-the-curious" title="Additional resources/reading for the curious" class="md-nav__link">
    Additional resources/reading for the curious
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-code-used-in-class" title="Source code used in class" class="md-nav__link">
    Source code used in class
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scoping" title="Scoping" class="md-nav__link">
    Scoping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" title="Performance" class="md-nav__link">
    Performance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressiveness" title="Expressiveness" class="md-nav__link">
    Expressiveness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abstraction" title="Abstraction" class="md-nav__link">
    Abstraction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects" title="Objects" class="md-nav__link">
    Objects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Week 1</h1>
                
                <h3 id="lecture-slides-and-code">Lecture slides and code<a class="headerlink" href="#lecture-slides-and-code" title="Permanent link">&para;</a></h3>
<ul>
<li>Introduction: <a href="slides/intro.pdf">pdf</a>, <a href="slides/intro.key">key</a></li>
<li>JavaScript in a Nutshell: <a href="slides/js-nutshell.pdf">pdf</a>, <a href="slides/js-nutshell.key">key</a></li>
<li>Lambda Calculus Fundamentals: <a href="slides/lambda-calculus.pdf">pdf</a></li>
<li>Discussion section notes: <a href="/discussions/week1">here</a></li>
</ul>
<h3 id="recommended-reading">Recommended reading<a class="headerlink" href="#recommended-reading" title="Permanent link">&para;</a></h3>
<p>If you have not worked with JavaScript before, take some time to familiarize
yourself with the basics of the language, as most of the labs in this class
will be in JavaScript.</p>
<p>We recommend the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide">Mozilla Developer Network's JavaScript
Guide</a>, but
there are many other tutorials on the Internet.</p>
<p>Dave Herman's <a href="http://effectivejs.com/">Effective JavaScript</a> is very good
reference that covers a lot of the JavaScript intricacies.  You will not need
this for the class, but if you end up writing JavaScript code in the outside
world, this book is must-read.</p>
<h3 id="additional-resourcesreading-for-the-curious">Additional resources/reading for the curious<a class="headerlink" href="#additional-resourcesreading-for-the-curious" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://leanpub.com/understandinges6/read#leanpub-auto-block-bindings">Block
  bindings</a>
  and the difference between <code>var</code>, <code>let</code>, and <code>const</code>.</li>
<li>Why a language like JavaScript took over the world? Not that uncommon, see
  <a href="https://www.jwz.org/doc/worse-is-better.html">The Rise of "Worse is
  Better"</a>.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">Closures</a>
  explained; see, especially the creating closures in a loop section.</li>
<li><a href="https://curiosity-driven.org/private-properties-in-javascript">Private properties in (modern) JavaScript</a>; we will revisit the idea of private properties (encapsulation) later in the course.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management">Short intro to memory management for
  JavaScript</a>.</li>
<li><a href="https://hacks.mozilla.org/category/es6-in-depth/">ES6 In Depth</a> contains
  more information on the more recent features introduced to JavaScript.</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">Arrow functions</a>.</li>
<li><a href="/notes/js_nono.md">JavaScript No-No's</a>.</li>
</ul>
<h3 id="source-code-used-in-class">Source code used in class<a class="headerlink" href="#source-code-used-in-class" title="Permanent link">&para;</a></h3>
<p>Below you'll find the source files we used during lecture. You can run these
with <a href="https://nodejs.org/en/">Node.js</a>.</p>
<h4 id="scoping">Scoping<a class="headerlink" href="#scoping" title="Permanent link">&para;</a></h4>
<p>Block scoping in modern JS:</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`A: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// 42</span>
  <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`B: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// 45</span>
  <span class="p">}</span>
  <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`C: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// 42</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">hello</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
</pre></div>


<p>Function (but not block) scoping for <code>var</code>s:</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`A: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`B: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">}</span>
  <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`C: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">hello</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
</pre></div>


<p>Mimicking block scoping with functions:</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`A: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`B: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">})();</span>
  <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`C: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">})();</span>
<span class="p">}</span>

<span class="nx">hello</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
</pre></div>


<p>Now, with arrow functions:</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`A: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`B: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">})();</span>
  <span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`C: x = </span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="p">})();</span>
<span class="p">}</span>

<span class="nx">hello</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
</pre></div>


<h4 id="performance">Performance<a class="headerlink" href="#performance" title="Permanent link">&para;</a></h4>
<p>Without high-order functions, we'd perform reads and write synchronously:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">r1</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;./perf-sync.js&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">);</span> <span class="c1">// blocks until read is done</span>
<span class="nx">processFile</span><span class="p">(</span><span class="s1">&#39;perf-sync.js&#39;</span><span class="p">,</span> <span class="nx">r1</span><span class="p">);</span> <span class="c1">// blocks until processing (write) is done</span>
<span class="kr">const</span> <span class="nx">r2</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;./perf-async.js&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">);</span> <span class="c1">// etc.</span>
<span class="nx">processFile</span><span class="p">(</span><span class="s1">&#39;perf-async.js&#39;</span><span class="p">,</span> <span class="nx">r2</span><span class="p">);</span>

<span class="c1">// note that you can declare a function after the point it&#39;s used. Hoisting</span>
<span class="c1">// essentially moves it to the top.</span>
<span class="kd">function</span> <span class="nx">processFile</span><span class="p">(</span><span class="nx">fname</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="sb">`/tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">str</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`DONE writing /tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>Passing (callback) functions as arguments allows the runtime system to call our function whenever it's ready. This allows it to perform IO concurrently and more efficiently:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

<span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./perf-sync.js&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="nx">cb1</span><span class="p">);</span> <span class="c1">// returns immediately, cb1 is queued on the event loop and called later when actual file read is done</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./perf-async.js&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="nx">cb2</span><span class="p">);</span> <span class="c1">// returns immediately, &quot; &quot;</span>

<span class="kd">function</span> <span class="nx">processFile</span><span class="p">(</span><span class="nx">fname</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="sb">`/tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">str</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`DONE writing /tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">cb1</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// line cb1.1</span>
  <span class="nx">processFile</span><span class="p">(</span><span class="s1">&#39;perf-sync.js&#39;</span><span class="p">,</span> <span class="nx">str</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">cb2</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//line cb2.1</span>
  <span class="nx">processFile</span><span class="p">(</span><span class="s1">&#39;perf-async.js&#39;</span><span class="p">,</span> <span class="nx">str</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">Can</span> <span class="nx">cb2</span> <span class="nx">execute</span> <span class="nx">before</span> <span class="nx">cb1</span><span class="o">?</span>
<span class="nx">A</span><span class="o">:</span> <span class="nx">yes</span><span class="p">,</span> <span class="nx">B</span><span class="o">:</span> <span class="nx">no</span>
</pre></div>


<p>Once we can return functions we can also express our code more compactly too:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

<span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./perf-sync.js&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="nx">processFile</span><span class="p">(</span><span class="s1">&#39;perf-sync.js&#39;</span><span class="p">));</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s1">&#39;./perf-async.js&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="nx">processFile</span><span class="p">(</span><span class="s1">&#39;perf-async.js&#39;</span><span class="p">));</span>

<span class="kd">function</span> <span class="nx">processFile</span><span class="p">(</span><span class="nx">fname</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="sb">`/tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">str</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`DONE writing /tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
  <span class="p">};</span>
<span class="p">}</span>
</pre></div>


<p>And, slightly cleaner:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

<span class="nx">readAndProcessFile</span><span class="p">(</span><span class="s1">&#39;perf-sync.js&#39;</span><span class="p">);</span>
<span class="nx">readAndProcessFile</span><span class="p">(</span><span class="s1">&#39;perf-async.js&#39;</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">readAndProcessFile</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="sb">`./</span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="nx">processFile</span><span class="p">(</span><span class="nx">name</span><span class="p">));</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">processFile</span><span class="p">(</span><span class="nx">fname</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFileSync</span><span class="p">(</span><span class="sb">`/tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">str</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`DONE writing /tmp/</span><span class="si">${</span><span class="nx">fname</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
  <span class="p">};</span>
<span class="p">}</span>
</pre></div>


<h4 id="expressiveness">Expressiveness<a class="headerlink" href="#expressiveness" title="Permanent link">&para;</a></h4>
<p>High-order functions enables expressiveness:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">filter</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span> 
  <span class="k">return</span> <span class="nx">el</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}));</span> <span class="c1">// ??</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">el</span> <span class="p">=&gt;</span> <span class="p">{</span> 
  <span class="k">return</span> <span class="nx">el</span> <span class="o">+</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">}));</span> <span class="c1">// ??</span>


<span class="kd">function</span> <span class="nx">filter</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">pred</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">dup</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">pred</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span> <span class="p">{</span>
      <span class="nx">dup</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">dup</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">map</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">f</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">dup</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">dup</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">dup</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>It also can enable more efficient code:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>

<span class="kr">const</span> <span class="nx">add42</span> <span class="o">=</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">el</span> <span class="o">+</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">mul1337</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">el</span> <span class="o">*</span> <span class="mi">1337</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">(</span><span class="nx">map</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">add42</span><span class="p">),</span> <span class="nx">mul1337</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">map</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">compose</span><span class="p">(</span><span class="nx">mul1337</span><span class="p">,</span> <span class="nx">add42</span><span class="p">)));</span>

<span class="kd">function</span> <span class="nx">compose</span> <span class="p">(</span><span class="nx">f</span><span class="p">,</span> <span class="nx">g</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> 
    <span class="k">return</span> <span class="nx">f</span><span class="p">(</span><span class="nx">g</span><span class="p">(</span><span class="nx">x</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">map</span><span class="p">(</span><span class="nx">list</span><span class="p">,</span> <span class="nx">f</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">dup</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">dup</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="nx">list</span><span class="p">[</span><span class="nx">i</span><span class="p">]));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">dup</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h4 id="abstraction">Abstraction<a class="headerlink" href="#abstraction" title="Permanent link">&para;</a></h4>
<p>We can also use functions to implement module systems.</p>
<p>Consider a simple module in Node.js:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s2">&quot;cse130 is fun!&quot;</span><span class="p">;</span> <span class="c1">// scoped to this function, hidden to outside world</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">myVar</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="nx">exports</span><span class="p">.</span><span class="nx">myFunc</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="nx">secret</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;yes!&#39;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;guess again!&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>


<p>This module can be loaded with <code>require</code>, which is (very) roughly implemented
as follows:</p>
<div class="codehilite"><pre><span></span><span class="c1">// using node&#39;s requie:</span>
<span class="p">{</span>
  <span class="kr">const</span> <span class="nx">mod</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./module-node.js&#39;</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mod</span><span class="p">.</span><span class="nx">myVar</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="nx">mod</span><span class="p">.</span><span class="nx">myFunc</span><span class="p">(</span><span class="s2">&quot;what?&quot;</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="nx">mod</span><span class="p">.</span><span class="nx">myFunc</span><span class="p">(</span><span class="s2">&quot;cse130 is fun!&quot;</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="p">}</span>

<span class="c1">// using our fake require:</span>
<span class="p">{</span>
  <span class="kr">const</span> <span class="nx">mod</span> <span class="o">=</span> <span class="nx">requireMyModule</span><span class="p">();</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mod</span><span class="p">.</span><span class="nx">myVar</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="nx">mod</span><span class="p">.</span><span class="nx">myFunc</span><span class="p">(</span><span class="s2">&quot;what?&quot;</span><span class="p">);</span> <span class="c1">// ??</span>
  <span class="nx">mod</span><span class="p">.</span><span class="nx">myFunc</span><span class="p">(</span><span class="s2">&quot;cse130 is fun!&quot;</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">myModule</span><span class="p">(</span><span class="nx">exports</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// same code as module-node.js:</span>
  <span class="kr">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s2">&quot;cse130 is fun!&quot;</span><span class="p">;</span> <span class="c1">// scoped to this function, hidden to outside world</span>
  <span class="nx">exports</span><span class="p">.</span><span class="nx">myVar</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
  <span class="nx">exports</span><span class="p">.</span><span class="nx">myFunc</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="nx">secret</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;yes!&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;guess again!&#39;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">requireMyModule</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// create new object that will be populated by the module</span>
  <span class="kr">const</span> <span class="nx">exports</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="nx">myModule</span><span class="p">(</span><span class="nx">exports</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">exports</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h4 id="objects">Objects<a class="headerlink" href="#objects" title="Permanent link">&para;</a></h4>
<p>We'll be looking at objects later in the class. Objects can be expressed
ad-hoc, using object literal notation:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;x-w00t&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">x</span><span class="o">:</span> <span class="mi">1337</span><span class="p">,</span>
  <span class="nx">f</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="o">++</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">f</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="s2">&quot;x-w00t&quot;</span><span class="p">])</span> <span class="c1">// ??</span>
</pre></div>


<p>But we can (again) use functions to construct objects:</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">Car</span><span class="p">(</span><span class="nx">make</span><span class="p">,</span> <span class="nx">model</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">make</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">model</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">make</span><span class="si">}</span><span class="sb">@</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
<span class="nx">Car</span><span class="p">.</span><span class="nx">mySweetProp</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;Ford&quot;</span><span class="p">,</span> <span class="s2">&quot;Focus&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
<span class="kr">const</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;Toyota&quot;</span><span class="p">,</span> <span class="s2">&quot;Corola&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>

<span class="c1">// Car.prototype is shared by all objects created by calling new Car(...)</span>
<span class="c1">// That&#39;s right you can treat functions like objects!</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Car</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// Let&#39;s define property common to all cars:</span>
<span class="nx">Car</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="c1">// getProperty &quot;color&quot; of f</span>
<span class="c1">//     if it has it, return it</span>
<span class="c1">//     else getProperty &quot;color&quot; of f.__proto__</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// Can override the default color that is defined on the prototype:</span>

<span class="nx">t</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// We can define a method on the prototype:</span>

<span class="nx">Car</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toColorString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">make</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">color</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">toColorString</span><span class="p">());</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toColorString</span><span class="p">());</span> <span class="c1">// ??</span>
</pre></div>


<p>More recently, however, JavaScript adopted classes. You can think of them as
being <em>syntactic sugar</em> for the above:</p>
<div class="codehilite"><pre><span></span><span class="kr">class</span> <span class="nx">Car</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">make</span><span class="p">,</span> <span class="nx">model</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">make</span> <span class="o">=</span> <span class="nx">make</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">model</span> <span class="o">=</span> <span class="nx">model</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nx">toString</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">make</span><span class="si">}</span><span class="sb">@</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kr">static</span> <span class="nx">get</span> <span class="nx">mySweetProp</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;Ford&quot;</span><span class="p">,</span> <span class="s2">&quot;Focus&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
<span class="kr">const</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Car</span><span class="p">(</span><span class="s2">&quot;Toyota&quot;</span><span class="p">,</span> <span class="s2">&quot;Corola&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>

<span class="c1">// Car.prototype is shared by all objects created by calling new Car(...)</span>
<span class="c1">// That&#39;s right you can treat functions like objects!</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">===</span> <span class="nx">Car</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// We can define property common to all cars as before:</span>
<span class="nx">Car</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="c1">// getProperty &quot;color&quot; of f</span>
<span class="c1">//     if it has it, return it</span>
<span class="c1">//     else getProperty &quot;color&quot; of f.__proto__</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// Can override the default color that is defined on the prototype:</span>

<span class="nx">t</span><span class="p">.</span><span class="nx">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span> <span class="c1">// ??</span>

<span class="c1">// We can define a method on the prototype as before:</span>

<span class="nx">Car</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toColorString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">make</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">color</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">toColorString</span><span class="p">());</span> <span class="c1">// ??</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">toColorString</span><span class="p">());</span> <span class="c1">// ??</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../assn/Tokenizer/" title="Tokenizer.md" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tokenizer.md
              </span>
            </div>
          </a>
        
        
          <a href="../week1b/" title="Week 1b" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Week 1b
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/kpister/cse130-summer19-b" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>